<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h1>Callbacks</h1>
					<h3>Week 1 Day 4</h3>
				</section>

				<section>
					<h3>Joke</h3>
					<p>
						<img src="http://imgs.xkcd.com/comics/git_commit.png"/>
					</p>
					<a href="http://xkcd.com/1296/">Link</a>
				</section>

				<section>
					<h3>Power User Tip</h3>

				</section>

				<section>
					<h2>Today we cover</h2>
					<ul>
						<li class="fragment">Functions as Values</li>
						<li class="fragment">Function declaration vs function expression</li>
						<li class="fragment">What are anonymous functions?</li>
						<li class="fragment">Method Signatures</li>
						<li class="fragment">Callbacks</li>
						<li class="fragment">Closures, if we have time</li>
					</ul>
				</section>

				<section>
					<section>
						<h2>Functions are values</h2>
						<p class="fragment">A quick review</p>
					</section>

					<section>
						<p>What is the difference between declaring a function in these two ways?</p>
						<pre><code class="lang-js" data-trim data-noescape>
var displayItem = function(item) {
  console.log(item.name);
}
// VS
function renderItem(item) {
  console.log(item.name);
}
						</code></pre>
						<aside class="notes" data-markdown>
							- Both can be called by a references name: displayItem and renderItem
							- Both are functions
							- displayItem does not have a name attribute
							- You can use renderItem before it is declared, but not displayItem
						</aside>
					</section>

					<section>
						<h2>Demo</h2>
						<aside class="notes">
							01_fn_values.js
						</aside>
					</section>

					<section>
						<h2>Function Expression</h2>
						<p>What does this console.log?</p>
						<pre><code class="lang-js" data-trim data-noescape>
console.log(displayItem);
var displayItem = function(item) {
  console.log(item.name);
}
console.log(displayItem);
</code></pre>
						<aside class="notes" data-markdown>
							- the var displayItem hoist the variable up so we can access it
							- it has no value the first call, but after we execute the statement/expression it does
						</aside>
					</section>

					<section>
						<h2>Function declaration</h2>
						<p>Mean while...</p>
						<pre><code class="lang-js" data-trim data-noescape>
console.log(displayItem);
function displayItem(item) {
  console.log(item.name);
}
console.log(displayItem);
	</code></pre>
					</section>

					<section>
						<h2>Demo</h2>
						<aside class="notes">
							02_dec_vs_exp.js
						</aside>
					</section>

				</section><!-- end functions are values -->
				<section>
					<section>
						<h2>Method Signatures</h2>
					</section>

					<section>
						<h3>Definition</h3>
						<blockquote cite="https://developer.mozilla.org/en-US/docs/Glossary/Signature/Function">
							A function signature (or type signature, or method signature) defines input and output of functions or methods.
						</blockquote>
					</section>

					<section>
						<h3>Lets break this down</h3>
						<pre><code data-trim data-noescape class="lang-js">
/**
 * Render an array of songs into a string we can show.
 * <span class="fragment highlight-red" data-fragment-index="1">@param {array} songs - Array of song objects</span>
 * <span class="fragment highlight-red" data-fragment-index="2">@param {boolean} showDuration - Do we want to appent the duration</span>
 * <span class="fragment highlight-red" data-fragment-index="3">@returns {String} String ready to render</span>
 */
function renderPlaylist(<span class="fragment highlight-red" data-fragment-index="1">songs</span>, <span class="fragment highlight-red" data-fragment-index="2">showDuration</span>) {
	/* ... code does a thing */
	return <span class="fragment highlight-red" data-fragment-index="3">result;</span>
}
						</code></pre>
					</section>

					<section>
						<p>Curious about JSDoc?</p>
						<a href="http://usejsdoc.org/">http://usejsdoc.org/</a>
					</section>

					<section>
						<h3>Let's review</h3>
						<ul>
							<li><a href="https://nodejs.org/api/console.html#console_console_log_data_args">console.log</a></li>
							<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/confirm">window.confirm</a></li>
							<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map">Array.map</a></li>
						</ul>
					</section>
				</section>

				<section>
					<section>
						<h2>Callbacks</h2>
						<p>This function takes a function as an argument.</p>
						<pre><code data-trim data-noescape class="lang-js">
function ping(<span class="fragment highlight-red" data-fragment-index="1">response</span>) {
	console.log("ping");
	<span class="fragment highlight-red" data-fragment-index="3">response();</span>
}
						</code></pre>
						<p class="fragment" data-fragment-index="2">And calls that argument as a function.<p>
						<p class="fragment" data-fragment-index="4">This function we passed as an argument is a callback.<p>
						<p class="fragment" data-fragment-index="5">We sometimes call these higher-order functions.<p>
					</section>

					<section>
						<h3>Definition</h3>
						<blockquote cite="http://javascriptissexy.com/understand-javascript-callback-functions-and-use-them/">
							A callback function, also known as a higher-order function, is a function that is passed to another function (let's call this other function “otherFunction”) as a parameter, and the callback function is called (or executed) inside the otherFunction.
						</blockquote>
					</section>

					<section>
						<h2>Demo</h2>
						<aside class="notes">03_cb.js</aside>
					</section>
				</section><!-- end Function declaration vs function expression -->

				<section>
					<section>
						<h2>Anonymous functions</h2>
						<p class="fragment">What is an anonymous function?</p>
						<img class="fragment" data-src="https://stijndewitt.files.wordpress.com/2013/12/p_anonymous-function.png?w=530" />
						<p class="fragment">Not exactly...</p>
					</section>

					<section>
						<p>Meet function</p>
						<pre><code>
function() {
  console.log("Hi, I am function!");
}
						</code></pre>
						<p class="fragment">Lies, it has no name! Just like function expressions.</p>
					</section>

					<section>
						DEMO
						<aside class="notes" data-markdown>
							- 04_anonymous.js
							- the first syntax actually looks like an attempt to CALL a function
						</aside>
					</section>


				</section><!-- end anonymous functions -->

				<section>
					<section>
						<h2>Back to callbacks</h2>
					</section>

					<section>
						<p>Often documentation will indicate which arguments it expects to be callbacks</p>
						<p><a href="http://api.jquery.com/click/">jQuery click documentation</a></p>
						<p><a href="https://nodejs.org/dist/latest-v6.x/docs/api/fs.html#fs_fs_readdir_path_options_callback">Node JS</a></p>
						<p>Look for what parameters will be passed to your callback function, and if any return value is expected.</p>
					</section>

					<section>
						<h2>jQuery style callback</h2>
						<pre><code class="lang-js">
// Select all h1 tags and run this callback when it is clicked
jQuery('h1').click(function(e) {
	console.log(e);
	$(this).css('color', 'red');
});
						</code></pre>

					</section>

					<section>
						<h2>NodeJS style callback</h2>
						<pre><code class="lang-js">
var fs = require('fs'); // ignore the magic man behind the curtain

fs.readdir('./duck', function(err, files) {
  if (err) {
    console.log(err);
    return;
  }
  console.log(files);
});
						</code></pre>

					</section>

					<section>
						<h3>Demo</h3>
					</section>

				</section><!-- end callbacks -->
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
				showNotes: false,
				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
